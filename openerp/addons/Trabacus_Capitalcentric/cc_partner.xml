<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
       <!-- =======================Inherited: Partner Form view===========================-->

        <record id="view_ccpartner_kanban_view" model="ir.ui.view">
            <field name="name">view_ccpartner_kanban_view</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.res_partner_kanban_view"/>
            <field name="arch" type="xml">
                <li t-if="record.email.raw_value" position="replace">
                    <li t-if="record.credit.raw_value">Total Receivable: <field name="credit"/></li>
                    <li t-if="record.debit.raw_value">Total Payable: <field name="debit"/></li> 
                </li>
            </field>
        </record>

        <!--  ======================Inherited: Leads Search View========================== --> 

        <record id="view_ccpartner_filter" model="ir.ui.view"> 
            <field name="name">view_ccpartner_filter</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_res_partner_filter"/>
            <field name="arch" type="xml">
                <filter string="Suppliers" position="after">
                    <filter string="Preferred Venue" domain="[('preferred_venue','=',True)]"
                        name="preferred_venue"/>
                </filter>
            </field>
        </record>
        
        <!--  ======================Inherited: Partner Buttons========================== -->
        
<!--        <record id="view_ccpartner_buttons" model="ir.ui.view"> 
            <field name="name">view_ccpartner_buttons</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="account.partner_view_buttons"/>
            <field name="arch" type="xml">
                <button type="action" string="Invoices" 
                    name="%(account.action_invoice_tree)d" 
                    context="{'search_default_partner_id': active_id,'default_partner_id': active_id}" groups="account.group_account_invoice" position="replace"/>
                <button type="action" string="Journal Items" name="%(account.action_account_moves_all_tree)d" groups="account.group_account_user" position="replace"/>
            </field>
        </record>-->
        
        <!--  ======================Inherited: Partner Buttons========================== -->
        
        <record id="view_ccpartner_tree" model="ir.ui.view"> 
            <field name="name">view_ccpartner_tree</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_tree"/>
            <field name="arch" type="xml">
                <tree string="Contacts" position='attributes'>
                    <attribute name='colors'>red:active==False;</attribute>
                </tree>
                <field name="parent_id" position='after'>
                    <field name="active" invisible="1"/>
                </field>
            </field>
        </record>

        <!-- =======================Inherited(crm lead): Partner Form view=================-->

        <record model="ir.ui.view" id="enquiry_partner_kanban_view">
            <field name="name">enquiry_partner_kanban_view</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="crm.crm_lead_partner_kanban_view"/>
            <field name="priority" eval="10"/>
            <field name="arch" type="xml">
                <a name="%(crm.relate_partner_opportunities)d" type="action"
                    t-if="record.opportunity_count.value>0" position="replace">
                    <a name="%(crm.relate_partner_opportunities)d" type="action"
                        t-if="record.opportunity_count.value>0">
                        <t t-esc="record.opportunity_count.value"/> Enquiries </a>
                </a>
            </field>
        </record> 

        <!-- open opportunities related to given partner -->
        <record model="ir.actions.act_window" id="crm.relate_partner_opportunities">
            <field name="name">Opportunities</field>
            <field name="res_model">crm.lead</field>
            <field name="view_mode">kanban,tree,form,graph,calendar</field>
            <field name="domain">[('type','=','opportunity'),('partner_id','=',active_id)]</field>
            <field name="context">{'search_default_partner_id': active_id, 'stage_type':
                'opportunity', 'default_type': 'opportunity'}</field>
            <field name="view_id" eval="False"/>
            <field name="search_view_id" ref="crm.view_crm_case_opportunities_filter"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create"> Click to create an opportunity related to this
                    customer. </p>
                <p> Use opportunities to keep track of your sales pipeline, follow up potential
                    sales and better forecast your future revenues. </p>
                <p> You will be able to plan meetings and phone calls from opportunities, convert
                    them into quotations, attach related documents, track all discussions, and much
                    more. </p>
            </field>
        </record>
        <record model="ir.actions.act_window.view" id="crm.relate_partner_opportunities_kanban">
            <field name="sequence" eval="0"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="crm.crm_case_kanban_view_leads"/>
            <field name="act_window_id" ref="crm.relate_partner_opportunities"/>
        </record>
        <record model="ir.actions.act_window.view" id="crm.relate_partner_opportunities_tree">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="crm.crm_case_tree_view_oppor"/>
            <field name="act_window_id" ref="crm.relate_partner_opportunities"/>
        </record>
        <record model="ir.actions.act_window.view" id="crm.relate_partner_opportunities_form">
            <field name="sequence" eval="2"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="crm.crm_case_form_view_oppor"/>
            <field name="act_window_id" ref="crm.relate_partner_opportunities"/>
        </record>

<!-- ==============================================Group & FIT - Contacts Form View ================================= -->
        
        <record id="view_ccpartner_form" model="ir.ui.view">
            <field name="name">view_ccpartner_form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet" position="before">
                    <!--<div class="oe_form_box_info oe_text_center"
                        attrs="{'invisible': ['|',('is_filled', '=', True),('check_role','=',True)]}"
                        groups="Trabacus_Capitalcentric.cc_client,Trabacus_Capitalcentric.cc_venues">
                        <p>
                            <b>PLEASE FILL IN YOUR DETAILS.</b>
                        </p>
                        <field name="is_filled" invisible="1"/>
                    </div>-->
                </xpath>

                <div class="oe_edit_only" position="attributes">
                    <attribute name="invisible">1</attribute>
                </div>
                <field class="oe_inline" name="type" position="attributes">
                    <attribute name="readonly">1</attribute>
                </field>

                <xpath expr="//div/div[@class='oe_edit_only']" position="attributes">
                    <attribute name="attrs">{'invisible':[('partner_type','=','venue')]}</attribute>
                </xpath>

                <field name="website" position="after">
                    <!--<field name="vat" string='VAT'
                        attrs="{'invisible': [('type','!=','invoice')],'required':[('partner_type','=','venue'),('parent_id','=',False)]}"
                    />
                    <field name='sc_included'  attrs="{'invisible': [('partner_type','!=','venue')]}"/>
                    <field name="menu_sc"  attrs="{'invisible': [('partner_type','!=','venue')]}"/>-->
                </field>
                
                <field name='notification_email_send' position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
                
                <field name="opt_out" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>

                <field name="parent_id" position="attributes">
                    <attribute name="attrs">{'invisible':[('partner_type','!=','contact')]}</attribute>
                    <attribute name="domain">[('partner_type','in',['venue','client']),('parent_id','=',False)]</attribute>
                </field>

                <field name="category_id" position="after">
                    <!--<field name="cc_company_id" placeholder="Invoice Address"
                        attrs="{'invisible': [('partner_type','!=','venue')]}"
                        domain="[('partner_type','=','venue'),('parent_id','=',False)]"/>-->
                    <field name="partner_type" required="1" invisible="1"/>
                    <field name="check_role" invisible="1"/>
                </field>
                
                <div class="oe_right oe_button_box" name="buttons" position="replace">
                    <div class="oe_right oe_button_box" name="buttons" style="width:330px">
                        <label for="cc_group"/><field name="cc_group"/>
                        <label for="cc_fit"/><field name="cc_fit"/>
                        <label for="preferred_venue" attrs="{'invisible': [('partner_type','!=','venue')]}"/><field name="preferred_venue" attrs="{'invisible': [('partner_type','!=','venue')]}"/>
                        <label for="is_afternoontea" attrs="{'invisible': [('partner_type','!=','venue')]}"/><field name="is_afternoontea" attrs="{'invisible': [('partner_type','!=','venue')]}"/>
                        <label for='active'/><field name="active"/>                            
                    </div>
                </div>
                
                <xpath expr="/form/sheet/group/group[2]" position="replace">
                    <group>                        
                        <field name="contact_ids" attrs="{'invisible': [('parent_id','=',False)]}" 
                               domain="['|',('cc_fit','=',context.get('default_cc_fit',False)),('cc_group','=',context.get('default_cc_group',False)),('active','in',[True,False]),('parent_id','=',parent_id),('type','=','default')]" widget="many2many_tags" string="Restaurants"/>
                        <field name="addressed_email"/>
                        <field name="phone" placeholder="e.g. +32.81.81.37.00"
                            attrs="{'invisible': [('check_role','=',True)]}"/>
                        <field name="phone2" attrs="{'invisible': [('partner_type','=','venue')]}"
                            placeholder="e.g. +12.85.81.37.99"/>
                        <field name="mobile" attrs="{'invisible': [('check_role','=',True)]}"/>
                        <field name="fax" attrs="{'invisible': [('check_role','=',True)]}"/>
                        <field name="email" widget="email"
                            attrs="{'invisible': [('check_role','=',True)]}"/>
                        <field name="email2" widget="email"
                            attrs="{'invisible': [('partner_type','=','venue')]}"/>
                        <field name="title" domain="[('domain', '=', 'contact')]"
                            options='{"no_open": True}'/>
                        <!--<field name="menu_commsion"  attrs="{'invisible': [('partner_type','!=','venue')]}"/>-->
                    </group>
                </xpath>

                <!--<xpath expr="//group[1]" position="attributes">
                    <attribute name="attrs">{'invisible':[('cc_company_id','!=',False)]}</attribute>
                </xpath>-->

                <!--<xpath expr="//group[1]/group[1]/div[2]/label[@for='use_parent_address']"
                    position="replace"/>
                <field name="use_parent_address" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>-->

                <xpath expr="//page[@string='Contacts']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <!--<xpath
                    expr="//page[@string='Contacts']/field/form/sheet/group/field[@name='function']"
                    position="before">                    
                    <field name="addressed_email"/>
                    <field name="cc_group" invisible="1"/>
                    <field name="partner_type" invisible="1"/>
                </xpath>

                <xpath
                    expr="//page[@string='Contacts']/field/form/sheet/group[2]/div/field[@name='type']"
                    position="attributes">
                    <attribute name="on_change"
                        >onchange_address_type(type,parent.partner_type)</attribute>
                </xpath>-->

                <xpath expr="//page[@string='Accounting']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//page[@string='Sales &amp; Purchases']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <button name="open_parent" position="attributes">
                    <attribute name="attrs">{}</attribute>
                    <attribute name="invisible">1</attribute>
                </button>
                
                <field name="country_id" position="replace"/>                
                
                <xpath expr="//div[@class='address_format']" position="replace">
                    <div class="address_format">
<!--                        <field name="location_id" placeholder="Location" options='{"no_open": True}' style="width: 49%%" on_change="onchange_location(location_id)"/>-->
                        <field name="city_id" placeholder="City" style="width: 49%%" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                        <field name="zip" placeholder="ZIP" style="width: 49%%" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                        <field name="state_id" class="oe_no_button" placeholder="State" style="width: 49%%" options='{"no_open": True}' on_change="onchange_state(state_id)" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                        <field name="country_id" placeholder="Country" options='{"no_open": True}' style="width: 49%%"/> 
                    </div>
                </xpath>
                
                <!--<xpath expr="//notebook/page/field[@name='child_ids']/form/sheet/group[2]/div[2]/field[@name='country_id']" position="replace"/>
                <xpath expr="//notebook/page/field[@name='child_ids']/form/sheet/group[2]/div[2]/div[@class='address_format']" position="replace">
                    <div class="address_format">
<!-\-                        <field name="location_id" placeholder="Location" options='{"no_open": True}' style="width: 49%%" on_change="onchange_location(location_id)"/>-\->
                        <field name="city_id" placeholder="City" style="width: 49%%" attrs="{'readonly': [('use_parent_address','=',True)]}" domain="[('state_id', '=', state_id)]"/>
                        <field name="zip" placeholder="ZIP" style="width: 49%%" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                        <field name="state_id" class="oe_no_button" placeholder="State" style="width: 49%%" options='{"no_open": True}' on_change="onchange_state(state_id)" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                        <field name="country_id" placeholder="Country" options='{"no_open": True}' style="width: 49%%"/> 
                    </div>
                </xpath>-->
            </field>
        </record>
        
<!-- ==================================== Partner:Group Contacts Action======================================-->
        
        <record id="action_contacts_form" model="ir.actions.act_window">
            <field name="name">Contacts</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="context">{"search_default_customer":1,'default_partner_type':'contact','default_type':'contact','default_cc_group':True}</field>
            <field name="domain">['|',('active','=',False),('active','=',True),('partner_type','=','contact'),('type','=','contact'),('cc_group','=',True)]</field>
            <field name="search_view_id" ref="base.view_res_partner_filter"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create"> Click to add a contact in your address book. </p>
                <p> OpenERP helps you easily track all activities related to a customer;
                    discussions, history of business opportunities, documents, etc. </p>
            </field>
        </record>
        <record id="action_contacts_form_view1" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="base.res_partner_kanban_view"/>
            <field name="act_window_id" ref="action_contacts_form"/>
        </record>
        <record id="action_contacts_form_view2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="base.view_partner_form"/>
            <field name="act_window_id" ref="action_contacts_form"/>
        </record>
        <record id="action_contacts_form_view3" model="ir.actions.act_window.view">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="base.view_partner_tree"/>
            <field name="act_window_id" ref="action_contacts_form"/>
        </record>
        
        <menuitem id="cc_menu_contacts" name="Contacts" parent="menu_contacts"
            action="action_contacts_form"/>

<!-- ======================================= Group Bookings - Form View =================================================-->
        
        <record id="cc_partner_grp_form" model="ir.ui.view">
            <field name="name">cc_grp.res.partner.form</field>
            <field name="model">res.partner</field>
            <field eval="1" name="priority"/>
            <field name="arch" type="xml">
                <form string="Partners" version="7.0">                            
                    <sheet>
                        <field name="image" widget='image' class="oe_left oe_avatar" options='{"preview_image": "image_medium", "size": [90, 90]}'/>
                        <div class="oe_title">
                            <div class="oe_edit_only" attrs="{'invisible': ['|',('partner_type','in',['contact']),('parent_id','!=',False)]}">
                                <label for="name"/> (
                                <field name="is_company" on_change="onchange_type(is_company,context)" class="oe_inline" context="{'default_partner_type':partner_type}"/>
                                <label for="is_company" string="Is a Company?" />)
                            </div>
                            <h1>
                                <field name="name" default_focus="1" placeholder="Name" />
                            </h1>
                            <field name="parent_id"
                                placeholder="Company"
                                domain="['|',('active','=',True),('active','=',False),('partner_type','=',partner_type),('parent_id','=',False),('cc_group','=',context.get('default_cc_group',False))]" context="{'default_is_company': True, 'default_supplier': supplier, 'default_customer': customer,'default_partner_type':partner_type}"
                                attrs="{'invisible': ['|',('partner_type','=','client'),('is_company','=',True)]}"
                                on_change="onchange_ccparent_id(parent_id,context)"/>
                            <field name="category_id" widget="many2many_tags" placeholder="Tags..."/>
                            
                            <field name="partner_type" required="1" invisible="1"/>
                            <field name="check_role" invisible="1"/>    
                            <field name="customer" invisible="1"/>
                            <field name="supplier" invisible="1"/>
                            
                        </div>
                        <div class="oe_right oe_button_box" name="buttons" style="width:330px;">
                            <label for="cc_group"/><field name="cc_group"/>
                            <label for="cc_fit"/><field name="cc_fit"/>
                            <label for="preferred_venue" attrs="{'invisible': [('partner_type','!=','venue')]}"/><field name="preferred_venue" attrs="{'invisible': [('partner_type','!=','venue')]}"/>
                            <label for='active'/><field name="active"/>                            
                        </div>
                        
                        <group>
                            <group>
                                <label for="type" invisible='1'/>
                                <div  name="div_type" invisible='1'>
                                    <field class="oe_inline"
                                        name="type" />
                                </div>
                                
                                <label for="street" string="Address"/>
                                <div>
                                    <field name="use_parent_address" class="oe_edit_only oe_inline"
                                        on_change="onchange_address(use_parent_address, parent_id,context)"
                                        attrs="{'invisible': [('parent_id','=', False),('use_parent_address','=',False)]}"/>
                                    <label for="use_parent_address" class="oe_edit_only" attrs="{'invisible': [('parent_id','=', False),('use_parent_address','=',False)]}"/>
                                    <field name="street" placeholder="Street..."  attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                    <field name="street2"  attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                    <div class="address_format">
                                        <!--                                        <field name="location_id" placeholder="Location" attrs="{'readonly': [('use_parent_address','=',True)]}" options='{"no_open": True}' style="width: 49%%" on_change="onchange_location(location_id)"/>-->
                                        <field name="city_id" placeholder="City" style="width: 49%%" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                        <field name="zip" placeholder="ZIP" style="width: 49%%" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                        <field name="state_id" class="oe_no_button" placeholder="State" style="width: 49%%" options='{"no_open": True}' on_change="onchange_state(state_id)" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                        <field name="country_id" placeholder="Country" options='{"no_open": True}' attrs="{'readonly': [('use_parent_address','=',True)]}" style="width: 49%%"/>
                                    </div>      
                                    <field name="tstation_id" placeholder="Tube Station" attrs="{'invisible': [('type','!=','default'),('partner_type','!=','venue')]}"/>
                                </div>
                                <field name="website" widget="url" placeholder="e.g. www.openerp.com"/>
                                <field name="vat" attrs="{'invisible': [('type','!=','invoice')],'required':[('partner_type','=','venue'),('parent_id','=',False)]}" string="VAT"/>
                                <field name='sc_included'  attrs="{'invisible': [('partner_type','!=','venue')]}"/>
                                <field name="menu_sc"  attrs="{'invisible': [('partner_type','!=','venue')]}"/>
                                <field name='payment_type' attrs="{'invisible':['|',('partner_type','!=','client')],'required':[('partner_type','=','client')]}"/>
                            </group>
                            <group>
                                <field name="contact_ids" placeholder="e.g. John" attrs="{'invisible': [('parent_id','=',False)]}" domain="[('parent_id','=',parent_id),('type','=','contact')]" widget="many2many_tags"/>
                                <field name="inv_contact_ids" placeholder="e.g. John" attrs="{'invisible': [('type','in',['contact','invoice']),('parent_id','=',False)]}" domain="[('parent_id','=',parent_id),('type','=','contact')]" widget="many2many_tags"/>
                                <field name="addressed_email"/>
                                <field name="function" placeholder="e.g. Sales Director" invisible="1"/>
                                <field name="phone" placeholder="e.g. +32.81.81.37.00"/>
                                <field name="phone2" attrs="{'invisible': [('partner_type','=','venue')]}"
                                    placeholder="e.g. +12.85.81.37.99"/>
                                <field name="mobile"/>
                                <field name="fax"/>
                                <field name="user_ids" invisible="1"/>
                                <field name="email" widget="email" attrs="{'required': [('user_ids','!=', [])]}"/>
                                <field name="email2" widget="email"
                                    attrs="{'invisible': [('partner_type','=','venue')]}"/>                                
                                <field name="company_reg_no" attrs="{'invisible': [('type','!=','invoice')],'required':[('partner_type','=','venue'),('parent_id','=',False)]}"/>
                                <field name="menu_commsion"  attrs="{'invisible': [('partner_type','!=','venue')]}"/>
                            </group>
                        </group>
                        
                        <notebook colspan="4">
                            <page string="Contacts" attrs="{'invisible': ['|',('parent_id','!=',False),('is_company','=',False),('partner_type','in',['venue','contact'])]}" autofocus="autofocus">
                                <field name="child_ids" mode='tree,kanban'
                                    domain="[('cc_group','=',True)]"
                                    context="{'default_type':'contact','default_parent_id': active_id,
                                    'default_street': street, 'default_street2': street2,
                                    'default_state_id': state_id, 'default_zip': zip, 'default_country_id':country_id, 
                                    'default_supplier': supplier, 'default_email2': email2, 'default_phone2': phone2, 'default_partner_type':'contact','default_cc_group':True}">
                                    <kanban>
                                        <field name="color"/>
                                        <field name="name"/>
                                        <field name="title"/>
                                        <field name="email"/>
                                        <field name="parent_id"/>
                                        <field name="is_company"/>
                                        <field name="function"/>
                                        <field name="phone"/>
                                        <field name="street"/>
                                        <field name="street2"/>
                                        <field name="zip"/>
                                        <field name="city_id"/>
                                        <field name="country_id"/>
                                        <field name="mobile"/>
                                        <field name="fax"/>
                                        <field name="state_id"/>
                                        <field name="has_image"/>
                                        <field name="cc_fit"/>
                                        <templates>
                                            <t t-name="kanban-box">
                                                <t t-if="record.cc_fit">
                                                    <t t-set="color" t-value="kanban_color(record.color.raw_value)"/>
                                                    <div t-att-class="color + (record.title.raw_value == 1 ? ' oe_kanban_color_alert' : '')" style="position: relative">
                                                        <a t-if="! read_only_mode" type="delete" style="position: absolute; right: 0; padding: 4px; diplay: inline-block">X</a>
                                                        <div class="oe_module_vignette">
                                                            <a type="open">
                                                                <t t-if="record.has_image.raw_value === true">
                                                                    <img t-att-src="kanban_image('res.partner', 'image', record.id.value, {'preview_image': 'image_small'})" class="oe_avatar oe_kanban_avatar_smallbox"/>
                                                                </t>
                                                                <t t-if="record.image and record.image.raw_value !== false">
                                                                    <img t-att-src="'data:image/png;base64,'+record.image.raw_value" class="oe_avatar oe_kanban_avatar_smallbox"/>
                                                                </t>
                                                                <t t-if="record.has_image.raw_value === false and (!record.image or record.image.raw_value === false)">
                                                                    <t t-if="record.is_company.raw_value === true">
                                                                        <img t-att-src='_s + "/base/static/src/img/company_image.png"' class="oe_kanban_image oe_kanban_avatar_smallbox"/>
                                                                    </t>
                                                                    <t t-if="record.is_company.raw_value === false">
                                                                        <img t-att-src='_s + "/base/static/src/img/avatar.png"' class="oe_kanban_image oe_kanban_avatar_smallbox"/>
                                                                    </t>
                                                                </t>
                                                            </a>
                                                            <div class="oe_module_desc">
                                                                <div class="oe_kanban_box_content oe_kanban_color_bglight oe_kanban_color_border">
                                                                    <table class="oe_kanban_table">
                                                                        <tr>
                                                                            <td class="oe_kanban_title1" align="left" valign="middle">
                                                                                <h4><a type="open"><field name="name"/></a></h4>
                                                                                <i><div t-if="record.function.raw_value">
                                                                                    <field name="function"/></div></i>
                                                                                <div><a t-if="record.email.raw_value" title="Mail" t-att-href="'mailto:'+record.email.value">
                                                                                    <field name="email"/>
                                                                                </a></div>
                                                                                <div t-if="record.phone.raw_value">Phone: <field name="phone"/></div>
                                                                                <div t-if="record.mobile.raw_value">Mobile: <field name="mobile"/></div>
                                                                                <div t-if="record.fax.raw_value">Fax: <field name="fax"/></div>
                                                                            </td>
                                                                        </tr>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </t>
                                            </t>
                                        </templates>
                                    </kanban>
                                    <tree string='contact' colors="red:active==False;">
                                        <field name='name'/>
                                        <field name='email'/>
                                        <field name='partner_type' string='Type'/>
                                        <field name='active' invisible='1'/>
                                    </tree>
                                    <form string="Contact" version="7.0">
                                        <sheet>
                                            <field name="image" widget='image' class="oe_avatar oe_left" options='{"preview_image": "image_medium"}'/>
                                            <div class="oe_title">
                                                <label for="name" class="oe_edit_only"/>
                                                <h1><field name="name" style="width: 70%%"/></h1>
                                                <field name="category_id" widget="many2many_tags" placeholder="Tags..." style="width: 70%%"/>
                                            </div>
                                            <group>
                                                <field name="function" placeholder="e.g. Sales Director"/>
                                                <field name="email"/>
                                                <field name="phone"/>
                                                <field name="mobile"/>
                                                <field name="cc_fit" invisible="1"/>
                                                <field name="partner_type" invisible="1"/>
                                            </group>
                                            <div>
                                                <field name="use_parent_address"/><label for="use_parent_address"/>
                                            </div>
                                            <group>
                                                <label for="type"/>
                                                <div name="div_type">
                                                    <field class="oe_inline" name="type" invisible="1"/>
                                                </div>
                                                <label for="street" string="Address" attrs="{'invisible': [('use_parent_address','=', True)]}"/>
                                                <div attrs="{'invisible': [('use_parent_address','=', True)]}" name="div_address">
                                                    <field name="street" placeholder="Street..."/>
                                                    <field name="street2"/>
                                                    <div class="address_format">
                                                        <!--                                                        <field name="location_id" placeholder="Location" options='{"no_open": True}' style="width: 49%%" on_change="onchange_location(location_id)"/>-->
                                                        <field name="city_id" placeholder="City" style="width: 49%%" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                                        <field name="zip" placeholder="ZIP" style="width: 49%%" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                                        <field name="state_id" class="oe_no_button" placeholder="State" style="width: 49%%" options='{"no_open": True}' on_change="onchange_state(state_id)" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                                        <field name="country_id" placeholder="Country" options='{"no_open": True}' style="width: 49%%"/>
                                                        
                                                    </div>
                                                </div>
                                            </group>
                                            <field name="supplier" invisible="True"/> 
                                            <field name="customer" invisible="True"/>
                                        </sheet>
                                    </form>
                                </field>
                            </page>      
                            <page string="Other Information" attrs="{'invisible': [('type','!=','default')]}">
                                <group col="4" colspan="2">
                                    <field name="cuisine_ids" widget="many2many_tags"/>                  
                                    <field name="no_of_covers"/>                                    
                                    <field name="dining_style_ids" widget="many2many_tags" colspan='1'/>
                                    <field name="main_covers"/>
                                    <field name="room_covers"/>
                                    <field name="semi_covers"/>
                                    <field name="private_rooms" required="1"/>                                    
                                    <field name="dress_code"/>
                                    <field name="payment_opt"/>
                                    <field name="booking_hrs"/>                                    
                                    <field name="cancellation_hrs"/>
                                    <div colspan='2'>                                    
                                        <field name="latitude" style="width: 49%%" placeholder="Latitude"/>
                                        <field name="longitude" style="width: 49%%" placeholder="Longitude"/>
                                    </div>
                                </group>
                                <group col="4" colspan="2">
                                    <separator colspan="2" string="Description of the Venue"/>
                                    <separator colspan="2" string="Outstanding Features"/>
                                    <hr width="100%%" colspan="4"/>
                                    <field colspan="2" name="descp_venue" nolabel="1"/>
                                    <field colspan="2" name="features" nolabel="1"/>
                                </group>
                                <group col="4" colspan="2">
                                    <separator colspan="2" string="Cancellation Policy"/>
                                    <separator colspan="2" string="Terms &amp; Conditions"/>
                                    <hr width="100%%" colspan="4"/>
                                    <field colspan="2" name="cancel_policy" nolabel="1"/>
                                    <field colspan="2" name="terms_conditions" nolabel="1"/>
                                </group>
                            </page>
                            <page string="Bank Details" attrs="{'invisible': [('parent_id','!=',False)]}">
                                <group col="4" colspan="2">
                                    <field name="acc_name"/>
                                    <field name="bank_name"/>
                                    <field name="branch_addrs"/>
                                    <field name='acc_no'/>
                                    <field name='sort_code'/>
                                    <field name='swift'/>
                                    <field name='iban'/>
                                    <field name='chaps'/>                                    
                                </group>
                            </page>
                            <page string="Private Rooms" attrs="{'invisible': [('partner_type','!=','venue')]}">
                                <field name="rooms_ids" mode="tree">
                                    <tree string="Private Rooms" version="7.0" editable="top">
                                        <field name="name" required="1"/>
                                        <field name="no_of_seated"/>
                                        <field name="no_of_standing"/>
                                        <field name="max_nos"/>
                                        <field name="av_screen"/>
                                        <field name="projector"/>
                                        <field name="others"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Opening Hours" attrs="{'invisible': [('partner_type','!=','venue')]}">
                                <field name="open_hrs_ids" mode="tree">
                                    <tree string="Opening Hours" version="7.0" editable="top">
                                        <field name="name" required="1"/>
                                        <field name="bf_from"/>
                                        <field name="bf_to"/>
                                        <field name="lunch_from"/>
                                        <field name="lunch_to"/> 
                                        <field name="dinner_from"/>
                                        <field name="dinner_to"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Menu" attrs="{'invisible': [('partner_type','!=','venue')]}">
                                <field name="menus_ids" mode="kanban,tree" context="{'default_food_type':'meal','default_cc_group':True,'partner_id':active_id}"/>
                            </page>
                            <page string="Drinks" attrs="{'invisible': [('partner_type','!=','venue')]}">
                                <field name="grp_drink_ids" mode="tree" context="{'default_food_type':'drink','default_cc_group':True}">
                                    <tree string="Drinks" colors="red:active==False;">
                                        <field name="name"/>
                                        <field name="description"/>
                                        <field name="drink_size"/>
                                        <field name='rest_price' string="Price" />
                                        <field name='markup' />
                                        <field name='service_charge' string="SC (%)" />
                                        <field name='to_price' string="Total"/>
                                        <field name='food_type' invisible="1"/>
                                        <field name="cc_group" invisible="1"/>
                                        <field name="active" invisible="1"/>
                                    </tree>
                                    <form string="Menu" version="7.0">
                                        <sheet>
                                            <div class="oe_title">                                                
                                                <label for="name" class="oe_edit_only"/>
                                                <h1>
                                                    <field name="name" style="width: 70%%" required="1"/>
                                                </h1>
                                            </div>
                                            <div class="oe_right oe_button_box" name="buttons" style="width:290px;">
                                                <label for="cc_group"/><field name="cc_group"/>
                                                <label for="cc_fit"/><field name="cc_fit"/>
                                                <label for="active"/><field name="active"/>
                                                <newline/>
                                            </div>
                                            <group colspan="2" col="6">
                                                <field name="drink_size" colspan="1" style="width:7em;"/>  
                                                <newline/>
                                            </group>
                                            <separator string="Description" colspan="4"/>
                                            <field name="description" colspan="4"/>
                                            
                                            <separator string="Pricing" colspan="4"/>
                                            <group colspan='2' col='4'>
                                                <field name="sc_included" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':True}"/>
                                                <field name="sc_disc" attrs="{'invisible': [('sc_included','=',True)]}" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':True}"/>
                                                <field name="service_charge" attrs="{'invisible': [('sc_included','=',True)]}" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':True}"/>
                                                <field name="to_price" style="font-weight:bold;font-size:11pt;"/> 
                                                <newline/>
                                                <field name="rest_price" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':False}"/>                                               
                                                <field name="markup" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':True}"/>
                                                <field name='food_type' invisible="1"/>
                                            </group>
                                        </sheet>
                                    </form>
                                </field> 
                            </page>
                            <page string="Photos" attrs="{'invisible': [('type','!=','default')]}">
                                <group colspan="2" col="4">
                                    <field name="cc_image1" widget="image" nolabel="1" colspan="2"/>
                                    <field name="cc_image2" widget="image" nolabel="1" colspan="2"/>
                                    <field name='desc_image1' placeholder="Description" nolabel="1" colspan="2"/>
                                    <field name='desc_image2' placeholder="Description" nolabel="1" colspan="2"/>
                                    <field name="cc_image3" widget="image" nolabel="1" colspan="2"/>
                                    <field name="cc_image4" widget="image" nolabel="1" colspan="2"/>
                                    <field name='desc_image3' placeholder="Description" nolabel="1" colspan="2"/>
                                    <field name='desc_image4' placeholder="Description" nolabel="1" colspan="2"/>
                                    <newline/>
                                </group>
                            </page>
                            
                            <page name='internal_notes' string="Internal Notes">
                                <field name="comment" placeholder="Put an internal note..."/>
                            </page>                            
                            <page string="Terms &amp; Conditions" attrs="{'invisible': [('type','!=','invoice')]}">
                                <group col="4" colspan="2">
                                    <field name="accept_tc"/>
                                    <field name="terms_conditions" nolabel="1" placeholder="Terms &amp; Conditions" colspan="4"/>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>        
        
<!-- ======================================= Group: Tour Operators-Action ==========================================-->

        <record id="action_clients_form" model="ir.actions.act_window">
            <field name="name">Tour Operators</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="context">{"search_default_customer":1,'default_partner_type':'client','default_cc_group':True}</field>
            <field name="domain">['|',('active','=',False),('active','=',True),('partner_type','=','client'),('cc_group','=',True)]</field>
            <field name="search_view_id" ref="base.view_res_partner_filter"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create"> Click to add a contact in your address book. </p>
                <p> OpenERP helps you easily track all activities related to a customer;
                    discussions, history of business opportunities, documents, etc. </p>
            </field>
        </record>
        <record id="action_clients_form_view1" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="base.res_partner_kanban_view"/>
            <field name="act_window_id" ref="action_clients_form"/>
        </record>
        <record id="action_clients_form_view2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="cc_partner_grp_form"/>
            <field name="act_window_id" ref="action_clients_form"/>
        </record>
        <record id="action_clients_form_view3" model="ir.actions.act_window.view">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="base.view_partner_tree"/>
            <field name="act_window_id" ref="action_clients_form"/>
        </record>

        <menuitem id="menu_clients_contacts" name="Tour Operators" parent="menu_clients"
            action="action_clients_form"/>

<!--  ======================================= Group: Venues-Action =================================================-->

        <record id="action_venues_form" model="ir.actions.act_window">
            <field name="name">Venues</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="context">{'search_default_preferred_venue':1,
                'default_partner_type':'venue','default_supplier':1,'default_customer':0,'default_type':'invoice','default_cc_group':True}</field>
            <field name="domain">['|',('parent_id','!=',False),('parent_id','=',False),'|',('active','=',False),('active','=',True),('partner_type','=','venue'),('cc_group','=',True),('type','in',['invoice','default'])]</field>
            <field name="search_view_id" ref="base.view_res_partner_filter"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create"> Click to add a contact in your address book. </p>
                <p> OpenERP helps you easily track all activities related to a customer;
                    discussions, history of business opportunities, documents, etc. </p>
            </field>
        </record>
        <record id="action_venues_form_view1" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="base.res_partner_kanban_view"/>
            <field name="act_window_id" ref="action_venues_form"/>
        </record>
        <record id="action_venues_form_view2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="cc_partner_grp_form"/>
            <field name="act_window_id" ref="action_venues_form"/>
        </record>
        <record id="action_venues_form_view3" model="ir.actions.act_window.view">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="domain">[('partner_type','=','venue'),('parent_id','=',False)]</field>
            <field name="view_id" ref="base.view_partner_tree"/>
            <field name="act_window_id" ref="action_venues_form"/>
        </record>

        <menuitem id="menu_venue_contacts" name="Venues" parent="menu_venue"
            action="action_venues_form"/>
 
<!-- ================================================== FIT -Form & Tree View =========================================================-->
        
        <record id="view_fit_partner_tree" model="ir.ui.view">
            <field name="name">fit.res.partner.tree</field>
            <field name="model">res.partner</field>
            <field eval="8" name="priority"/>
            <field name="arch" type="xml">
                <tree string="Contacts" colors="red:active==False;"> 
                    <field name="display_name"/>
                    <field name="function" invisible="1"/>
                    <field name="phone"/>
                    <field name="email"/>
                    <field name="category_id" widget="many2many_tags"/>
                    <field name='active' invisible='1'/>
                    <field name="user_id" invisible="1"/>
                    <field name="is_company" invisible="1"/>
                    <field name="country" invisible="1"/>
                    <field name="country_id" invisible="1"/>
                    <field name="parent_id" invisible="1"/>
                </tree>
            </field>
        </record>
        
        <record id="cc_partner_fit_form" model="ir.ui.view">
            <field name="name">cc_fit.res.partner.form</field>
            <field name="model">res.partner</field>
            <field eval="1" name="priority"/>
            <field name="arch" type="xml">
                <form string="Partners" version="7.0">                    
                    <sheet>
                        <field name="image" widget='image' class="oe_left oe_avatar" options='{"preview_image": "image_medium", "size": [90, 90]}'/>
                        <div class="oe_title">
                            <div class="oe_edit_only" attrs="{'invisible': ['|',('partner_type','in',['contact']),('parent_id','!=',False)]}">
                                <label for="name"/> (
                                <field name="is_company" on_change="onchange_type(is_company,context)" class="oe_inline" context="{'default_partner_type':partner_type}"/>
                                <label for="is_company" string="Is a Company?" />)                                
                            </div>
                            <h1>
                                <field name="name" default_focus="1" placeholder="Name" />
                            </h1>
                            <field name="parent_id"
                                   placeholder="Company"
                                   domain="['|',('active','=',True),('active','=',False),('partner_type','=',partner_type),('parent_id','=',False),('cc_fit','=',context.get('default_cc_fit',False))]" context="{'default_is_company': True, 'default_supplier': supplier, 'default_customer': customer,'default_partner_type':partner_type}"
                                   attrs="{'invisible': ['|',('partner_type','=','client'),('is_company','=',True)]}"
                                   on_change="onchange_ccparent_id(parent_id,context)"/>
                            <field name="category_id" widget="many2many_tags" placeholder="Tags..."/>

                           <field name="partner_type" required="1" invisible="1"/>
                            <field name="check_role" invisible="1"/>    
                            <field name="customer" invisible="1"/>
                            <field name="supplier" invisible="1"/>

                        </div>
                        <div class="oe_right oe_button_box" name="buttons" style="width:330px;">
                            <label for="cc_group"/><field name="cc_group"/>
                            <label for="cc_fit"/><field name="cc_fit"/>
                            <label for="preferred_venue" attrs="{'invisible': [('partner_type','!=','venue')]}"/><field name="preferred_venue" attrs="{'invisible': [('partner_type','!=','venue')]}"/>
                            <label for='active'/><field name="active"/>
                            <label for='show_in_homepage'/><field name="show_in_homepage"/>
                        </div>
                        
                        <group>
                            <group>
                                <label for="type" invisible='1'/>
                                <div  name="div_type" invisible='1'>
                                    <field class="oe_inline"
                                        name="type" />
                                </div>
                                
                                <label for="street" string="Address"/>
                                <div>
                                    <field name="use_parent_address" class="oe_edit_only oe_inline"
                                        on_change="onchange_address(use_parent_address, parent_id,context)"
                                        attrs="{'invisible': [('parent_id','=', False),('use_parent_address','=',False)]}"/>
                                   <label for="use_parent_address" class="oe_edit_only" attrs="{'invisible': [('parent_id','=', False),('use_parent_address','=',False)]}"/>
                                    <field name="street" placeholder="Street..."  attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                    <field name="street2"  attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                    <div class="address_format">
                                        <field name="city_id" placeholder="City" style="width: 49%%" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                        <field name="zip" placeholder="ZIP" style="width: 49%%" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                        <field name="state_id" class="oe_no_button" placeholder="State" style="width: 49%%" options='{"no_open": True}' on_change="onchange_state(state_id)" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                        <field name="country_id" placeholder="Country" options='{"no_open": True}' attrs="{'readonly': [('use_parent_address','=',True)]}" style="width: 49%%"/>
                                    </div>      
                                    <field name="tstation_id" placeholder="Tube Station" attrs="{'invisible': [('type','!=','default'),('partner_type','!=','venue')]}"/>
                                </div>
                                <field name="website" widget="url" placeholder="e.g. www.openerp.com"/>
                                <field name="sequence" attrs="{'invisible': [('type','!=','default')]}"/>
                                <field name="vat" attrs="{'invisible': [('type','!=','invoice')],'required':[('partner_type','=','venue'),('parent_id','=',False)]}" string="VAT"/>
                                <field name="title" domain="[('domain', '=', 'contact')]"
                                    options='{"no_open": True}' attrs="{'invisible': [('type','!=', 'contact')]}" />
                                
                                <field name='payment_type' attrs="{'invisible':['|',('partner_type','!=','client'),('cc_fit','!=',True)],'required':[('partner_type','=','client'),('cc_fit','=',True)]}"/>
                                <field name='booking_limit' attrs="{'invisible':['|',('partner_type','!=','client'),('cc_fit','!=',True)]}"/>
                                <field name='debit_charges' attrs="{'invisible':['|',('partner_type','!=','client'),('cc_fit','!=',True)]}"/>
                                <field name='credit_charges' attrs="{'invisible':['|',('partner_type','!=','client'),('cc_fit','!=',True)]}"/>
                                <field name='send_daily_rpt'/>         
                                <field name="top_rmd_opt" attrs="{'invisible':[('partner_type', '!=','client')]}"/>
                            </group>
                            <group>
                                <field name="contact_ids" placeholder="e.g. John" attrs="{'invisible': [('parent_id','=',False)]}" domain="[('parent_id','=',parent_id),('type','=','contact')]" widget="many2many_tags"/>
                                <field name="inv_contact_ids" placeholder="e.g. John" attrs="{'invisible': [('type','in',['contact','invoice']),('parent_id','=',False)]}" domain="[('parent_id','=',parent_id),('type','=','contact')]" widget="many2many_tags"/>
                                <field name="addressed_email"/>
                                <field name="function" placeholder="e.g. Sales Director" invisible="1"/>
                                <field name="phone" placeholder="e.g. +32.81.81.37.00"/>
                                <field name="phone2" attrs="{'invisible': [('partner_type','=','venue')]}"
                                    placeholder="e.g. +12.85.81.37.99"/>
                                <field name="mobile"/>
                                <field name="fax"/>
                                <field name="user_ids" invisible="1"/>
                                <field name="email" widget="email" attrs="{'required': [('user_ids','!=', [])]}"/>
                                <field name="email2" widget="email"
                                    attrs="{'invisible': [('partner_type','=','venue')]}"/>                                
                                <field name="company_reg_no" attrs="{'invisible': [('type','!=','invoice')],'required':[('partner_type','=','venue'),('parent_id','=',False)]}"/>
                                <field name="comision_type" attrs="{'invisible': [('partner_type','!=','client')]}"/>
                                <group>
                                    <label string="Commission" attrs="{'invisible': [('comision_type','!=','fixed_amt')]}"/>
                                    <label string="Commission (%)" attrs="{'invisible': [('comision_type','!=','fixed_perc')]}"/>                                
                                    <field name="commission" nolabel="1" attrs="{'invisible': ['|',('partner_type','!=','client'),('comision_type','not in',['fixed_amt','fixed_perc'])]}"/>                                    
                                </group>
                            </group>
                            <label string="Hide this venue for" style="font-weight: bold;" attrs="{'invisible':['|',('partner_type','!=','venue'),('type','!=','default')]}"/> 
                            <field name="remove_htls_to" colspan='4' nolabel="1" widget="many2many_tags" attrs="{'invisible':['|',('partner_type','!=','venue'),('type','!=','default')]}" domain="[('cc_fit','=',True),('partner_type','=','client')]"/> 
                            <label string="Show this venue for" style="font-weight: bold;" attrs="{'invisible':['|',('partner_type','!=','venue'),('type','!=','default')]}"/> 
                            <field name="show_htls_to" nolabel="1" colspan='4' widget="many2many_tags" attrs="{'invisible':['|',('partner_type','!=','venue'),('type','!=','default')]}" domain="[('cc_fit','=',True),('partner_type','=','client')]"/>
                            <label string="Send Mail to" attrs="{'invisible': ['|',('partner_type','!=','client'),('send_daily_rpt','!=',True)]}"/>
                            <field name='rpt_to' attrs="{'invisible': ['|',('partner_type','!=','client'),('send_daily_rpt','!=',True)]}" colspan="6" nolabel="1"/>

                        </group>
                        
                        <notebook colspan="4">
                            <page string="Contacts" attrs="{'invisible': ['|',('parent_id','!=',False),('is_company','=',False),('partner_type','in',['venue','contact'])]}" autofocus="autofocus">
                                <field name="child_ids" mode='tree,kanban'
                                       domain="[('cc_fit','=',True)]"
                                       context="{'default_type':'contact','default_parent_id': active_id,
                                                 'default_street': street, 'default_street2': street2,
                                                 'default_state_id': state_id, 'default_zip': zip, 'default_country_id':country_id, 
                                                 'default_supplier': supplier, 'default_email2': email2, 'default_phone2': phone2, 'default_partner_type':'contact','default_cc_fit':True}">                                    
                                    <kanban>
                                        <field name="color"/>
                                        <field name="name"/>
                                        <field name="title"/>
                                        <field name="email"/>
                                        <field name="parent_id"/>
                                        <field name="is_company"/>
                                        <field name="function"/>
                                        <field name="phone"/>
                                        <field name="street"/>
                                        <field name="street2"/>
                                        <field name="zip"/>
                                        <field name="city_id"/>
                                        <field name="country_id"/>
                                        <field name="mobile"/>
                                        <field name="fax"/>
                                        <field name="state_id"/>
                                        <field name="has_image"/>
                                        <field name="cc_fit"/>
                                        <templates>
                                            <t t-name="kanban-box">
                                                <t t-if="record.cc_fit">
                                                    <t t-set="color" t-value="kanban_color(record.color.raw_value)"/>
                                                    <div t-att-class="color + (record.title.raw_value == 1 ? ' oe_kanban_color_alert' : '')" style="position: relative">
                                                        <a t-if="! read_only_mode" type="delete" style="position: absolute; right: 0; padding: 4px; diplay: inline-block">X</a>
                                                        <div class="oe_module_vignette">
                                                            <a type="open">
                                                                <t t-if="record.has_image.raw_value === true">
                                                                    <img t-att-src="kanban_image('res.partner', 'image', record.id.value, {'preview_image': 'image_small'})" class="oe_avatar oe_kanban_avatar_smallbox"/>
                                                                </t>
                                                                <t t-if="record.image and record.image.raw_value !== false">
                                                                    <img t-att-src="'data:image/png;base64,'+record.image.raw_value" class="oe_avatar oe_kanban_avatar_smallbox"/>
                                                                </t>
                                                                <t t-if="record.has_image.raw_value === false and (!record.image or record.image.raw_value === false)">
                                                                    <t t-if="record.is_company.raw_value === true">
                                                                        <img t-att-src='_s + "/base/static/src/img/company_image.png"' class="oe_kanban_image oe_kanban_avatar_smallbox"/>
                                                                    </t>
                                                                    <t t-if="record.is_company.raw_value === false">
                                                                        <img t-att-src='_s + "/base/static/src/img/avatar.png"' class="oe_kanban_image oe_kanban_avatar_smallbox"/>
                                                                    </t>
                                                                </t>
                                                            </a>
                                                            <div class="oe_module_desc">
                                                                <div class="oe_kanban_box_content oe_kanban_color_bglight oe_kanban_color_border">
                                                                    <table class="oe_kanban_table">
                                                                        <tr>
                                                                            <td class="oe_kanban_title1" align="left" valign="middle">
                                                                                <h4><a type="open"><field name="name"/></a></h4>
                                                                                <i><div t-if="record.function.raw_value">
                                                                                    <field name="function"/></div></i>
                                                                                <div><a t-if="record.email.raw_value" title="Mail" t-att-href="'mailto:'+record.email.value">
                                                                                    <field name="email"/>
                                                                                </a></div>
                                                                                <div t-if="record.phone.raw_value">Phone: <field name="phone"/></div>
                                                                                <div t-if="record.mobile.raw_value">Mobile: <field name="mobile"/></div>
                                                                                <div t-if="record.fax.raw_value">Fax: <field name="fax"/></div>
                                                                            </td>
                                                                        </tr>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </t>
                                            </t>
                                        </templates>
                                    </kanban>
                                    <tree string='contact' colors="red:active==False;">
                                        <field name='name'/>
                                        <field name='email'/>
                                        <field name='partner_type' string='Type'/>
                                        <field name='active' invisible='1'/>
                                    </tree>
                                    <form string="Contact" version="7.0">
                                        <sheet>
                                            <field name="image" widget='image' class="oe_avatar oe_left" options='{"preview_image": "image_medium"}'/>
                                            <div class="oe_title">
                                                <label for="name" class="oe_edit_only"/>
                                                <h1><field name="name" style="width: 70%%"/></h1>
                                                <field name="category_id" widget="many2many_tags" placeholder="Tags..." style="width: 70%%"/>
                                            </div>
                                            <group>
                                                <field name="function" placeholder="e.g. Sales Director"/>
                                                <field name="email"/>
                                                <field name="phone"/>
                                                <field name="mobile"/>
                                                <field name="cc_fit" invisible="1"/>
                                                <field name="partner_type" invisible="1"/>
                                            </group>
                                            <div>
                                                <field name="use_parent_address"/><label for="use_parent_address"/>
                                            </div>
                                            <group>
                                                <label for="type"/>
                                                <div name="div_type">
                                                    <field class="oe_inline" name="type" invisible="1"/>
                                                </div>
                                                <label for="street" string="Address" attrs="{'invisible': [('use_parent_address','=', True)]}"/>
                                                <div attrs="{'invisible': [('use_parent_address','=', True)]}" name="div_address">
                                                    <field name="street" placeholder="Street..."/>
                                                    <field name="street2"/>
                                                    <div class="address_format">
                                                        <field name="city_id" placeholder="City" style="width: 49%%" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                                        <field name="zip" placeholder="ZIP" style="width: 49%%" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                                        <field name="state_id" class="oe_no_button" placeholder="State" style="width: 49%%" options='{"no_open": True}' on_change="onchange_state(state_id)" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                                        <field name="country_id" placeholder="Country" options='{"no_open": True}' style="width: 49%%"/>
                                                        
                                                    </div>
                                                </div>
                                            </group>
                                            <field name="supplier" invisible="True"/> 
                                            <field name="customer" invisible="True"/>
                                        </sheet>
                                    </form>
                                </field>
                            </page>
                            <page string="Other Details" attrs="{'invisible': [('type','!=','default')]}">
                                <group col="4" colspan="2">
                                    <separator string="About the Restaurant" colspan="2"/>
                                    <separator string="Directions to Restaurant" colspan="2"/>
                                    <field name="descp_venue" colspan="2" nolabel="1"/>
                                    <field name="rest_directions" colspan="2" nolabel="1"/>
                                    <field name="dining_style_ids" widget="many2many_tags" colspan='1'/>
                                    <div colspan='2'>
                                        <field name="latitude" style="width: 49%%" placeholder="Latitude"/>
                                        <field name="longitude" style="width: 49%%" placeholder="Longitude"/>
                                    </div>
                                    <field name="is_default"/>
                                    <field name="parent_res_id" attrs="{'invisible': [('type','!=','default')]}"/>
                                    <newline/>
                                    <field name="cuisine_ids" widget="many2many_tags" colspan='1'/>
                                    <field name="dress_code"/>
                                    <field name="payment_opt"/>
                                    <field name="booking_hrs"/>                                    
                                    <field name="cancellation_hrs"/>
                                    <separator string="Additional Details" colspan="4"/>
                                    <field name="additnal_details" colspan='4' nolabel='1'/>
                                </group>
                            </page>
                            <page string="Bank Details" attrs="{'invisible': [('parent_id','!=',False)]}">
                                <group col="4" colspan="2">
                                    <field name="acc_name"/>
                                    <field name="bank_name"/>
                                    <field name="branch_addrs"/>
                                    <field name='acc_no'/>
                                    <field name='sort_code'/>
                                    <field name='swift'/>
                                    <field name='iban'/>
                                    <field name='chaps'/>                                    
                                </group>
                            </page>
                            
                            <page string="Time &amp; Allocations" attrs="{'invisible': [('type','!=','default')]}">
                                <group col="4" colspan="2">
                                    <field name="max_covers"/>
                                </group>
                                <field name="time_alloc_ids" mode="tree">
                                    <tree string="Time &amp; Allocations" editable="top">
                                        <field name="name"/>
                                        <field name="type"/>
                                        <field name="non_frm_id"/>
                                        <field name="non_to_id"/>
                                        <field name="std_frm_id"/>
                                        <field name="std_to_id"/>
                                        <field name="pre_frm_id"/>
                                        <field name="pre_to_id"/>
                                        <field name="covers"/>
                                        <field name="cap"/>
                                    </tree>
                                </field>                        
                            </page>
                            <page string="Menu" attrs="{'invisible': ['|',('type','!=','default'),('is_default','=',True)]}">
                                <field name="fit_menu_ids" mode="tree" context="{'default_food_type':'meal','default_cc_fit':True}">
                                    <tree string="Menu" colors="red:active==False;">
                                        <field name="break_fast"/>
                                        <field name="lunch"/>
                                        <field name="afternoon_tea"/>
                                        <field name="dinner"/>
                                        <field name="kids_menu"/>
                                        <field name="is_sun"/>
                                        <field name="is_mon"/>
                                        <field name="is_tue"/>
                                        <field name="is_wed"/>
                                        <field name="is_thu"/>
                                        <field name="is_fri"/>
                                        <field name="is_sat"/>
                                        <field name="name"/>
                                        <field name="description"/>
                                        <field name='start_date'/>
                                        <field name='end_date'/>
                                        <field name="min_covers"/>
                                        <field name="course"/>
                                        <field name="to_price"/>
                                        <field name="include_srvchrg"/>
                                        <field name="active" invisible="1"/>
                                        <field name='food_type' invisible="1"/>
                                    </tree>
                                    <form string="Menu" version="7.0">
                                        <sheet>
                                            <field name="image" widget="image" class="oe_left oe_avatar"/>
                                            <div class="oe_title">
                                                
                                                <label for="name" class="oe_edit_only"/>
                                                <h1>
                                                    <field name="name" style="width: 70%%" required="1"/>
                                                </h1>
                                            </div>
                                            <div class="oe_right oe_button_box" name="buttons" style="width:290px;">
                                                <label for="break_fast"/><field name="break_fast"/>
                                                <label for="lunch"/><field name="lunch"/>
                                                <label for="afternoon_tea"/><field name="afternoon_tea"/>
                                                <label for="dinner"/><field name="dinner"/>
                                                <label for="kids_menu"/><field name="kids_menu"/>
                                                <label for="is_sun"/><field name="is_sun"/>
                                                <label for="is_mon"/><field name="is_mon"/>
                                                <label for="is_tue"/><field name="is_tue"/>
                                                <label for="is_wed"/><field name="is_wed"/>
                                                <label for="is_thu"/><field name="is_thu"/>
                                                <label for="is_fri"/><field name="is_fri"/>
                                                <label for="is_sat"/><field name="is_sat"/>
                                                <label for="cc_fit"/><field name="cc_fit"/>
                                                <label for="cc_group"/><field name="cc_group"/>
                                                <label for="active"/><field name="active"/>
                                                <newline/>
                                                 
                                            </div>
                                            <group colspan="2" col="6" style="width:64%;">
                                                <field name='start_date' />
                                                <field name='end_date'/>
                                                <field name="include_srvchrg"/>
                                                <newline/>
                                                <field name="course" colspan="1"/>  
                                                <field name="min_covers" on_change="onchange_min_covers(min_covers)"/>
                                                <newline/>
                                                <field name="remove_htls_to" colspan='6' widget="many2many_tags" domain="[('cc_fit','=',True),('partner_type','=','client')]"/>
                                                <field name="show_htls_to" colspan='6' widget="many2many_tags" domain="[('cc_fit','=',True),('partner_type','=','client')]"/>
                                            </group>
                                            <separator string="Description" colspan="4"/>
                                                <field name="description" colspan="4"/>
                                            
                                            <separator string="Pricing" colspan="4"/>
                                           <!-- <group colspan='2' col='4'>
                                                <field name="sc_included" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':True}"/>
                                                <field name="sc_disc" attrs="{'invisible': [('sc_included','=',True)]}"  on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':True}"/>
                                                <field name="service_charge" attrs="{'invisible': [('sc_included','=',True)]}" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':True}"/>
                                                <button name="update_pricing" type="object" string="Compute" class="oe_highlight"/>
                                                <newline/>
                                                <separator string="Select type to update markup/commission to all fields of selected type" colspan="4" style="font-size:9pt"/>
                                                <field name="field_type"/>
                                                <field name="meal_type" attrs="{'invisible':[('field_type','=',False)]}"/>
                                                <field name="markup" attrs="{'invisible':[('field_type','!=','markup')]}" class="oe_inline"/>

                                                <button name="markup_apply_to_all" type="object" string="Apply To All" class="oe_edit_only oe_link oe_inline" attrs="{'invisible':[('meal_type','=',False)]}"/>
                                                <field name='food_type' invisible="1"/>
                                            </group>-->
                                            <group colspan='2' col='4'>
                                                <field name="sc_included" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':True}"/>
                                                <field name="sc_disc" attrs="{'invisible': [('sc_included','=',True)]}" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':True}"/>
                                                <field name="service_charge" attrs="{'invisible': [('sc_included','=',True)]}" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':True}"/>
                                                <field name="to_price" style="font-weight:bold;font-size:11pt;"/>
                                                <newline/>
                                                <field name="rest_price" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':False}"/>
                                                <field name="markup" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':True}"/>
                                                <field name="commission" class="oe_inline"/>
                                                <field name='food_type' invisible="1"/>
                                            </group>
                                            
                                            <!--<field name= 'pricing_ids' colspan="4">
                                                <tree string="Pricing" editable="top">
                                                    <field name="meal_type" required="1"/>
                                                    <field name="mon_price" on_change="onchange_pricing('mon', mon_price, mon_ffp_mu, parent.service_charge, parent.sc_included, parent.sc_disc,context)" context="{'mu_update':False}"/>
                                                    <field name="mon_ffp_mu" on_change="onchange_pricing('mon', mon_price, mon_ffp_mu, parent.service_charge, parent.sc_included, parent.sc_disc,context)" context="{'mu_update':True}"/>
                                                    <field name="mon_to_mu"/>
                                                    <field name="mon_total"/>
                                                    <field name="tue_price" on_change="onchange_pricing('tue', tue_price, tue_ffp_mu, parent.service_charge, parent.sc_included, parent.sc_disc,context)" context="{'mu_update':False}"/>
                                                    <field name="tue_ffp_mu" on_change="onchange_pricing('tue', tue_price, tue_ffp_mu, parent.service_charge, parent.sc_included, parent.sc_disc,context)" context="{'mu_update':True}"/>
                                                    <field name="tue_to_mu"/>
                                                    <field name="tue_total"/>
                                                    <field name="wed_price" on_change="onchange_pricing('wed', wed_price, wed_ffp_mu, parent.service_charge, parent.sc_included, parent.sc_disc,context)" context="{'mu_update':False}"/>
                                                    <field name="wed_ffp_mu" on_change="onchange_pricing('wed', wed_price, wed_ffp_mu, parent.service_charge, parent.sc_included, parent.sc_disc,context)" context="{'mu_update':True}"/>
                                                    <field name="wed_to_mu"/>
                                                    <field name="wed_total"/>
                                                    <field name="thu_price" on_change="onchange_pricing('thu', thu_price, thu_ffp_mu, parent.service_charge, parent.sc_included, parent.sc_disc,context)" context="{'mu_update':False}"/>
                                                    <field name="thu_ffp_mu" on_change="onchange_pricing('thu', thu_price, thu_ffp_mu, parent.service_charge, parent.sc_included, parent.sc_disc,context)" context="{'mu_update':True}"/>
                                                    <field name="thu_to_mu"/>
                                                    <field name="thu_total"/>
                                                    <field name="fri_price" on_change="onchange_pricing('fri', fri_price, fri_ffp_mu, parent.service_charge, parent.sc_included, parent.sc_disc,context)" context="{'mu_update':False}"/>
                                                    <field name="fri_ffp_mu" on_change="onchange_pricing('fri', fri_price, fri_ffp_mu, parent.service_charge, parent.sc_included, parent.sc_disc,context)" context="{'mu_update':True}"/>
                                                    <field name="fri_to_mu"/>
                                                    <field name="fri_total"/>
                                                    <field name="sat_price" on_change="onchange_pricing('sat', sat_price, sat_ffp_mu, parent.service_charge, parent.sc_included, parent.sc_disc,context)" context="{'mu_update':False}"/>
                                                    <field name="sat_ffp_mu" on_change="onchange_pricing('sat', sat_price, sat_ffp_mu, parent.service_charge, parent.sc_included, parent.sc_disc,context)" context="{'mu_update':True}"/>
                                                    <field name="sat_to_mu"/>
                                                    <field name="sat_total"/>
                                                    <field name="sun_price" on_change="onchange_pricing('sun', sun_price, sun_ffp_mu, parent.service_charge, parent.sc_included, parent.sc_disc,context)" context="{'mu_update':False}"/>
                                                    <field name="sun_ffp_mu" on_change="onchange_pricing('sun', sun_price, sun_ffp_mu, parent.service_charge, parent.sc_included, parent.sc_disc,context)" context="{'mu_update':True}"/>
                                                    <field name="sun_to_mu" />
                                                    <field name="sun_total"/>
                                                </tree>
                                            </field>-->
                                        </sheet>
                                    </form>                                    
                                </field>
                            </page>
                            
                            <page string="Drinks" attrs="{'invisible': ['|',('type','!=','default'),('is_default','=',True)]}">
                                <field name="drink_ids" mode="tree" context="{'default_food_type':'drink','default_cc_fit':True}">
                                    <tree string="Drinks" colors="red:active==False;">
                                        <field name="break_fast"/>
                                        <field name="lunch"/>
                                        <field name="afternoon_tea"/>
                                        <field name="dinner"/>
                                        <field name="name"/>
                                        <field name="description"/>
                                        <field name="drink_size"/>
                                        <field name='rest_price' string="Price" />
                                        <field name='markup' />
                                        <field name='service_charge' string="SC (%)" />
                                        <field name="include_srvchrg"/>
                                        <field name='to_price' string="Total"/>
                                        <field name='food_type' invisible="1"/>
                                        <field name="cc_fit" invisible="1"/>
                                        <field name="active" invisible="1"/>
                                    </tree>
                                    <form string="Menu" version="7.0">
                                        <sheet>
                                            <div class="oe_title">                                                
                                                <label for="name" class="oe_edit_only"/>
                                                <h1>
                                                    <field name="name" style="width: 70%%" required="1"/>
                                                </h1>
                                            </div>
                                            <div class="oe_right oe_button_box" name="buttons" style="width:290px;">
                                                <label for="break_fast"/><field name="break_fast"/>
                                                <label for="lunch"/><field name="lunch"/>
                                                <label for="afternoon_tea"/><field name="afternoon_tea"/>
                                                <label for="dinner"/><field name="dinner"/>
                                                <label for="cc_fit"/><field name="cc_fit"/>
                                                <label for="cc_group"/><field name="cc_group"/>
                                                <label for="active"/><field name="active"/>
                                                <newline/>
                                            </div>
                                            <group colspan="2" col="6">
                                                <field name="drink_size" colspan="1" style="width:7em;"/>
                                                <field name="include_srvchrg"/>
                                                <newline/>
                                            </group>
                                            <separator string="Description" colspan="4"/>
                                            <field name="description" colspan="4"/>
                                            
                                            <separator string="Pricing" colspan="4"/>
                                            <group colspan='2' col='4'>
                                                <field name="sc_included" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':True}"/>
                                                <field name="sc_disc" attrs="{'invisible': [('sc_included','=',True)]}" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':True}"/>
                                                <field name="service_charge" attrs="{'invisible': [('sc_included','=',True)]}" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':True}"/>
                                                <field name="to_price" style="font-weight:bold;font-size:11pt;"/> 
                                                <newline/>
                                                <field name="rest_price" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':False}"/>                                               
                                                <field name="markup" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':True}"/>
                                                <field name='food_type' invisible="1"/>
                                            </group>
                                        </sheet>
                                    </form>
                                </field> 
                            </page>
                            <page string="Events" attrs="{'invisible': [('type','!=','default')]}">
                                <notebook>
                                    <page string="Events Menu">
                                        <field name="event_menu_ids" nolabel="1" mode="tree" context="{'default_food_type':'events'}" >
                                            <tree string="Events Menu" colors="red:active==False;">
                                                <field name="break_fast"/>
                                                <field name="lunch"/>
                                                <field name="afternoon_tea"/>
                                                <field name="dinner"/>
                                                <field name="kids_menu"/>
                                                <field name="name"/>
                                                <field name="description"/>
                                                <field name="course"/>
                                                <field name="to_price"/>
                                                <field name="active" invisible="1"/>
                                                <field name='food_type' invisible="1"/>
                                            </tree>
                                            <form string="Events Menu" version="7.0">
                                                <sheet>
                                                    <div class="oe_title">                                                
                                                        <label for="name" class="oe_edit_only"/>
                                                        <h1>
                                                            <field name="name" style="width: 70%%" required="1"/>
                                                        </h1>
                                                    </div>
                                                    <div class="oe_right oe_button_box" name="buttons" style="width:290px;">
                                                        <label for="break_fast"/><field name="break_fast"/>
                                                        <label for="lunch"/><field name="lunch"/>
                                                        <label for="afternoon_tea"/><field name="afternoon_tea"/>
                                                        <label for="dinner"/><field name="dinner"/> 
                                                        <label for="kids_menu"/><field name="kids_menu"/> 
                                                        <label for="active"/><field name="active"/> 
                                                        <newline/>                                                        
                                                    </div>
                                                    <group colspan="2" col="6" style="width:64%;">
                                                        <field name="course" colspan="1"/>  
                                                    </group>
                                                    <separator string="Description" colspan="4"/>
                                                    <field name="description" colspan="4"/>
                                                    
                                                    <separator string="Pricing" colspan="4"/>
                                                    <group colspan='2' col='4'>
                                                        <field name="sc_included" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':True}"/>
                                                        <field name="sc_disc" attrs="{'invisible': [('sc_included','=',True)]}" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':True}"/>
                                                        <field name="service_charge" attrs="{'invisible': [('sc_included','=',True)]}" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':True}"/>
                                                        <field name="to_price" style="font-weight:bold;font-size:11pt;"/> 
                                                        <newline/>
                                                        <field name="rest_price" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':False}"/>                                               
                                                        <field name="markup" on_change="get_tourop_price(food_type, rest_price, markup, service_charge, sc_included, sc_disc,context)" context="{'mu_update':True}"/>
                                                        <field name='food_type' invisible="1"/>
                                                    </group>
                                                </sheet>
                                            </form>
                                        </field>
                                    </page>
                                    <page string="Events">
                                        <field name="event_ids" nolabel="1" mode="tree" context="{'partner_id':active_id}"/>                                           
                                    </page>
                                </notebook>
                            </page>
                            <page string="Black Out" attrs="{'invisible': [('type','!=','default')]}">
                                <field name="blackout_ids" mode="tree">
                                    <tree string="Black Out" editable="top">
                                        <field name="date"/>
                                        <field name="date_to"/>
                                        <field name="from_time_id"/>
                                        <field name="to_time_id"/>
                                        <field name='name'/>
                                    </tree>
                                </field> 
                            </page>
                            
                            <page string="Photos" attrs="{'invisible': [('type','!=','default')]}">
                                <group colspan="2" col="4">
                                    <field name="cc_image1" widget="image" nolabel="1" colspan="2"/>
                                    <field name="cc_image2" widget="image" nolabel="1" colspan="2"/>
                                    <field name='desc_image1' placeholder="Description" nolabel="1" colspan="2"/>
                                    <field name='desc_image2' placeholder="Description" nolabel="1" colspan="2"/>
                                    <field name="cc_image3" widget="image" nolabel="1" colspan="2"/>
                                    <field name="cc_image4" widget="image" nolabel="1" colspan="2"/>
                                    <field name='desc_image3' placeholder="Description" nolabel="1" colspan="2"/>
                                    <field name='desc_image4' placeholder="Description" nolabel="1" colspan="2"/>
                                    <newline/>
                                </group>
                            </page>
                            <page string="Markup" attrs="{'invisible': [('partner_type','!=','client')]}">
                                <label for="markup_perc"/><field name='markup_perc' style="width: 5%%"/><b>%</b>
                                <group col="4" colspan="2">
                                    <separator colspan="2" string="Restaurant Level Exceptions"/> 
                                    <separator colspan="2" string="Menu Level Exceptions"/>
                                    <field name="rest_mrkup_ids" nolabel="1" colspan="2" context="{'default_mrkup_lvl':'rest_lvl'}">
                                        <tree string="Add Markup" editable="top">
                                            <field name="restaurant_id" required="1"/>
                                            <field name="markup_perc" required="1"/>
                                            <field name='mrkup_lvl' invisible="1"/>
                                        </tree>
                                    </field>
                                    <field name="op_mrkup_ids" nolabel="1" colspan="2" context="{'default_mrkup_lvl':'menu_lvl'}">
                                        <tree string="Add Markup" editable="top">
                                            <field name="restaurant_id" required="1"/>
                                            <field name="menu_ids" widget="many2many_tags" domain="[('partner_id','=',restaurant_id),('active','=',True)]" required="1"/>
                                            <field name="markup_perc" required="1"/>
                                            <field name='mrkup_lvl' invisible="1"/>
                                        </tree>
                                    </field>                                
                                </group>
                            </page>
                            <page name='internal_notes' string="Internal Notes">
                                <field name="comment" placeholder="Put an internal note..."/>
                            </page>                            
                            <page string="Terms &amp; Conditions" attrs="{'invisible': [('type','!=','invoice')]}">
                                <group col="4" colspan="2">
                                    <field name="accept_tc"/>
                                    <field name="terms_conditions" nolabel="1" placeholder="Terms &amp; Conditions" colspan="4"/>
                                </group>
                            </page>
                            <page string="Website" attrs="{'invisible': [('type','!=','invoice')]}">
                                 <group col="4" colspan="2">
                                    <field name="wbsite_color"/>
                                    <field name="submenu_color"/>
                                    <field name="header_color"/>
                                    <field name="font_website"/>
                                     <newline/>
                                    <field name="about_us" colspan="4"/>
                                     <newline/>
                                    <field name="terms_conditions" colspan="4"/>
                                     <newline/>
                                    <field name="privacy_policy" colspan="4"/>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>
        
<!--  ========================================= FIT : Venues-Action ============================================================-->
        
        <record id="action_venues_fit_form" model="ir.actions.act_window">
            <field name="name">Venues</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="context">{'search_default_preferred_venue':1,'default_cc_fit':True,
                'default_partner_type':'venue','default_supplier':1,'default_customer':0,'default_type':'default','chkwhich':'partner'}</field>
            <field name="domain">['|',('parent_id','!=',False),('parent_id','=',False),'|',('active','=',False),('active','=',True),('partner_type','=','venue'),('cc_fit','=',True),('type','in',['invoice','default'])]</field>
            <field name="search_view_id" ref="base.view_res_partner_filter"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create"> Click to add a contact in your address book. </p>
                <p> OpenERP helps you easily track all activities related to a customer;
                    discussions, history of business opportunities, documents, etc. </p>
            </field>
        </record>
        <record id="action_venues_fit_form_view1" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="base.res_partner_kanban_view"/>
            <field name="act_window_id" ref="action_venues_fit_form"/>
        </record>
        <record id="action_venues_fit_form_view2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="cc_partner_fit_form"/>
            <field name="act_window_id" ref="action_venues_fit_form"/>
        </record>
        <record id="action_venues_fit_form_view3" model="ir.actions.act_window.view">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="domain">['|',('parent_id','!=',False),('parent_id','=',False),('partner_type','=','venue'),('cc_fit','=',True),('type','in',['invoice','default'])]</field>
            <field name="view_id" ref="view_fit_partner_tree"/>
            <field name="act_window_id" ref="action_venues_fit_form"/>
        </record>
        
        <menuitem id="menu_venue_fit_contacts" name="Venues" parent="menu_venue_fit"
            action="action_venues_fit_form"/>

<!-- ============================================= FIT: Tour Operators-Action ==================================================-->
        
        <record id="action_clients_fit_form" model="ir.actions.act_window">
            <field name="name">Tour Operators</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="context">{"search_default_customer":1,'default_cc_fit':True,'default_partner_type':'client','chkwhich':'partner','default_type':'invoice'}</field>
            <field name="domain">['|',('active','=',False),('active','=',True),('partner_type','=','client'),('cc_fit','=',True)]</field>
            <field name="search_view_id" ref="base.view_res_partner_filter"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create"> Click to add a contact in your address book. </p>
                <p> OpenERP helps you easily track all activities related to a customer;
                    discussions, history of business opportunities, documents, etc. </p>
            </field>
        </record>
        <record id="action_clients_fit_form_view1" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="base.res_partner_kanban_view"/>
            <field name="act_window_id" ref="action_clients_fit_form"/>
        </record>
        <record id="action_clients_fit_form_view2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="cc_partner_fit_form"/>
            <field name="act_window_id" ref="action_clients_fit_form"/>
        </record>
        <record id="action_clients_fit_form_view3" model="ir.actions.act_window.view">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_fit_partner_tree"/>
            <field name="act_window_id" ref="action_clients_fit_form"/>
        </record>
        
        <menuitem id="menu_clients_fit_contacts" name="Tour Operators" parent="menu_clients_fit"
            action="action_clients_fit_form"/>
        
        <!-- =================================== Partner: FIT Contacts Action =======================================-->
        
        <record id="action_fit_contacts_form" model="ir.actions.act_window">
            <field name="name">Contacts</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="context">{"search_default_customer":1,'default_partner_type':'contact','default_type':'contact','default_cc_fit':True,'chkwhich':'partner'}</field>
            <field name="domain">['|',('active','=',False),('active','=',True),('partner_type','=','contact'),('type','=','contact'),('cc_fit','=',True)]</field>
            <field name="search_view_id" ref="base.view_res_partner_filter"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create"> Click to add a contact in your address book. </p>
                <p> OpenERP helps you easily track all activities related to a customer;
                    discussions, history of business opportunities, documents, etc. </p>
            </field>
        </record>
        <record id="action_contacts_fit_form_view1" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="base.res_partner_kanban_view"/>
            <field name="act_window_id" ref="action_fit_contacts_form"/>
        </record>
        <record id="action_contacts_fit_form_view2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="base.view_partner_form"/>
            <field name="act_window_id" ref="action_fit_contacts_form"/>
        </record>
        <record id="action_contacts_fit_form_view3" model="ir.actions.act_window.view">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_fit_partner_tree"/>
            <field name="act_window_id" ref="action_fit_contacts_form"/>
        </record>
        
        <menuitem id="cc_menu_fit_contacts" name="Contacts" parent="menu_fit_contacts"
            action="action_fit_contacts_form"/>
<!--
        <!-\-  ======================Partner: My Profile====================================-\->

        <record id="action_profile_form" model="ir.actions.act_window">
            <field name="name">My Profile</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="domain">[('user_ids','in',[uid])]</field>
            <field name="view_id" ref="base.view_partner_form"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create"> Click to add a contact in your address book. </p>
                <p> OpenERP helps you easily track all activities related to a customer;
                    discussions, history of business opportunities, documents, etc. </p>
            </field>
        </record>
        <record id="action_profile_form_view1" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="base.res_partner_kanban_view"/>
            <field name="act_window_id" ref="action_profile_form"/>
        </record>
        <record id="action_profile_form_view2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="base.view_partner_form"/>
            <field name="act_window_id" ref="action_profile_form"/>
        </record>

        <menuitem id="menu_myprofile_contacts" name="My Profile" parent="menu_myprofile"
            action="action_profile_form"/>

        <!-\-  ======================Partner Portal: Venue==================================-\->

        <record id="action_portal_venues_form" model="ir.actions.act_window">
            <field name="name">Venue</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="context">{'partner_type':'venue'}</field>
            <field name="domain">[('partner_type','=','venue')]</field>
            <field name="view_id" ref="base.view_partner_form"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create"> Click to add a contact in your address book. </p>
                <p> OpenERP helps you easily track all activities related to a customer;
                    discussions, history of business opportunities, documents, etc. </p>
            </field>
        </record>
        <record id="action_portal_venue_form_view1" model="ir.actions.act_window.view">
            <field eval="0" name="sequence"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="base.res_partner_kanban_view"/>
            <field name="act_window_id" ref="action_portal_venues_form"/>
        </record>
        <record id="action_portal_venue_form_view2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="base.view_partner_form"/>
            <field name="act_window_id" ref="action_portal_venues_form"/>
        </record>

        <menuitem id="menu_portal_venues_form" name="Venue" parent="menu_portal_venue"
            action="action_portal_venues_form"/>
-->

<!--  =================================================== Users ==============================================================-->
        
        <record id="view_cc_users_search" model="ir.ui.view">
            <field name="name">view_cc_users_search</field>
            <field name="model">res.users</field>            
            <field name="inherit_id" ref="base.view_users_search"/>
            <field name="arch" type="xml">
                <field name="name" filter_domain="['|', '|', ('name','ilike',self), ('login','ilike',self), ('email,'ilike',self)]" string="User" position="after">
                    <filter name="today_fit" string="Today" icon="terp-document-new" domain="[]" context="{'today':True}"/>
                </field>
                <field name="name" filter_domain="['|', '|', ('name','ilike',self), ('login','ilike',self), ('email,'ilike',self)]" string="User" position="replace">
                    <field name="name" filter_domain="['|',('name','ilike',self), ('login','ilike',self)]" string="User_test"/>
                </field>                     
            </field>
        </record>
        
        <record id="view_cc_users_form" model="ir.ui.view">
            <field name="name">view_cc_users_form</field>
            <field name="model">res.users</field>
            <field name="inherit_id" ref="base.view_users_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='active']" position="before">
                    <field name="role"/>
                    <group col="4" colspan="2">
                        <field name='wlabel_url'  readonly='0'/>
                        <field name='emulation'/>
                        <field name='is_wlabeling' invisible='1'/>
                        <field name='api_key' readonly='0'/>
                        <button name='genrate_APIKey' type='object' string="Genrate API Key"/>
                    </group>
                </xpath>
            </field>
        </record> 
        
        <record id="view_cc_users_tree" model="ir.ui.view">
            <field name="name">view_cc_users_tree</field>
            <field name="model">res.users</field>
            <field name="inherit_id" ref="base.view_users_tree"/>
            <field name="arch" type="xml">
                <xpath expr="/tree[@string='Users']" position="attributes">
                    <attribute name="colors">red:active==False</attribute>
                </xpath>
                <field name="lang" position="after">
                    <field name="active"/>
                </field>
            </field>
        </record>
        
<!--        <record model="ir.actions.act_window" id="base.action_res_users">
            <field name="name">Users</field>
            <field name="domain">['|',('active','=',False),('active','=',True)]</field>
        </record>
-->
<!--        fit users-->
        
        <record id="action_fit_res_users" model="ir.actions.act_window">
            <field name="name">Users</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.users</field>
            <field name="view_type">form</field>
            <field name="domain">['|',('active','=',False),('active','=',True),('partner_id.cc_fit','=',True)]</field>
            <field name="context">{'search_default_today_fit':1}</field>
            <field name="view_id" ref="base.view_users_tree"/>
            <field name="search_view_id" ref="base.view_users_search"/>
            <field name="help">Create and manage users that will connect to the system. Users can be deactivated should there be a period of time during which they will/should not connect to the system. You can assign them groups in order to give them specific access to the applications they need to use in the system.</field>
        </record>
        <record id="action_fit_res_users_view1" model="ir.actions.act_window.view">
            <field eval="10" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="base.view_users_tree"/>
            <field name="act_window_id" ref="action_fit_res_users"/>
        </record>
        <record id="action_fit_res_users_view2" model="ir.actions.act_window.view">
            <field eval="20" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="base.view_users_form"/>
            <field name="act_window_id" ref="action_fit_res_users"/>
        </record>
        <menuitem action="action_fit_res_users" id="menu_action_fit_res_users" parent="menu_fit_users"/>
        
        <!--        Group users-->        
        <record id="action_group_res_users" model="ir.actions.act_window">
            <field name="name">Users</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.users</field>
            <field name="view_type">form</field>
            <field name="domain">['|',('active','=',False),('active','=',True),('partner_id.cc_group','=',True)]</field>
            <field name="view_id" ref="base.view_users_tree"/>
            <field name="search_view_id" ref="base.view_users_search"/>
            <field name="help">Create and manage users that will connect to the system. Users can be deactivated should there be a period of time during which they will/should not connect to the system. You can assign them groups in order to give them specific access to the applications they need to use in the system.</field>
        </record>
        <record id="action_fit_res_users_view1" model="ir.actions.act_window.view">
            <field eval="10" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="base.view_users_tree"/>
            <field name="act_window_id" ref="action_group_res_users"/>
        </record>
        <record id="action_fit_res_users_view2" model="ir.actions.act_window.view">
            <field eval="20" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="base.view_users_form"/>
            <field name="act_window_id" ref="action_group_res_users"/>
        </record>
        <menuitem action="action_group_res_users" id="menu_action_group_res_users" parent="menu_group_users"/>
        
        <record id="view_cc_company_form" model="ir.ui.view">
            <field name="name">view_cc_company_form</field>
            <field name="model">res.company</field>
            <field name="inherit_id" ref="base.view_company_form"/>
            <field name="arch" type="xml">
                 <field name="parent_id"  groups="base.group_multi_company" position="after">
                     <button icon = "gtk-go-forward" name="button_prpt_rml" string="Reset Penthao Reports" type="object" class="oe_highlight" groups="base.group_system"/>
                 </field>
                <xpath expr="//notebook[last()]" position="inside">
                    <page string="Footer">
                        <group col="4" colspan="2">
                            <field name="b_frm_id"/>
                            <field name="b_to_id"/>
                            <field name="l_frm_id"/>
                            <field name="l_to_id"/>
                            <field name="a_frm_id"/>
                            <field name="a_to_id"/>
                            <field name="d_frm_id"/>
                            <field name="d_to_id"/>
                        </group>
                        <group col="2" colspan="4">
                            <field name="about_html"/>
                            <field name="privacy_html"/>
                            <field name="terms_html"/>
                            <field name="help_html"/>
                        </group>
                    </page>
                    <page string="Banner">
                        <group col="4" colspan="2">
                            <field name="banner_ids" nolabel="1" widget="one2many_list">
                                <tree string="Banner">
                                    <field name="img_alt_tag"/>
                                </tree>
                                <form string="Banner">
                                    <group col="4" colspan="2">
                                        <field name="image" widget="image"/>
                                        <field name="img_alt_tag"/>
                                        <field name="company_id" invisible="1"/>
                                    </group>
                                </form>
                            </field>
                        </group>
                    </page>
                </xpath>
            </field>
        </record> 
        
    </data>
</openerp>
