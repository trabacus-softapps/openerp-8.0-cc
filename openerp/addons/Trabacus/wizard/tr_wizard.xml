<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
 
   <!--	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                Duplicating The Flight Passenger Ticket
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^	-->
        <record id="tr_duplicate_ftpax" model="ir.ui.view">
            <field name="name">tr_duplicate_ftpax</field>
            <field name="model">tr.duplicate.ftpax</field>
            <field name="arch" type="xml">
                <form string="Duplicate" version="7.0">
                    
                    <group name="action" col="4" colspan="2">
                        <field name="no_ticket" required="1"/>
                    </group>
                    <footer>
                        <button name="get_duplicate_ftpax" string="Duplicate" type="object"
                            class="oe_highlight"/> or <button string="Cancel" class="oe_link"
                                special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
        <record id="action_tr_duplicate_ftpax" model="ir.actions.act_window">
            <field name="name">Duplicate Flight Passengers</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tr.duplicate.ftpax</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>
        
       <!--	
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
       		Overridden:	CRM Make Sale (Convert to Quotation) 
  		^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^	-->
        
       <record id="sale_crm.view_crm_make_sale" model="ir.ui.view">
          <field name="name">crm.make.sale.form.tr</field>
          <field name="model">crm.make.sale</field>
          <field name="arch" type="xml">
            <form string="Convert to Quotation"  version="7.0">
            
                <group name="action" >
                    <field name="action" class="oe_inline"/>
                    <field name="partner_id"
                        attrs="{'required': [('action', '=', 'exist')], 'invisible':[('action','!=','exist')]}"
                        class="oe_inline"/>
                    <field name="travel_type" required='1'/>
                </group>
                    
                <footer>
                    <button name="makeOrder" string="_Create" type="object" class="oe_highlight"/>
                    or
                    <button string="Cancel" class="oe_link" special="cancel" />
                </footer>
            </form>
          </field>
       </record>

       <record id="sale_crm.action_crm_make_sale" model="ir.actions.act_window">
          <field name="name">Make Quotation</field>
          <field name="type">ir.actions.act_window</field>
          <field name="res_model">crm.make.sale</field>
          <field name="view_type">form</field>
          <field name="view_mode">form</field>
          <field name="target">new</field>
       </record>
       
    
<!--	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
       		Sale Invoice: Parital line Invoicing
  		^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^	-->
        
        <record id="view_tr_partialinvoice_form" model="ir.ui.view">
            <field name="name">view.tr.partialinvoice.form</field>
            <field name="model">tr.make.partial.invoice</field>
            <field name="arch" type="xml">
                <form string="Create Invoice"  version="7.0">
                    
                    <group name="action" >
                        <field name="action" class="oe_inline"/>
                        <field name="partner_id" class="oe_inline" attrs="{'required': [('action', '=', 'create')], 'invisible':[('action','!=','create')]}"/>
                        <field name="invoice_id" class="oe_inline" attrs="{'required': [('action', '=', 'exist')], 'invisible':[('action','!=','exist')]}" domain="[('state','=','draft'),('type','=','out_invoice'), ('travel_type','=', travel_type)]"/>
                        <field name="travel_type" invisible='1'/>
                    </group>
                    
                    <footer>
                        <button name="createInvoice" string="_Create" type="object" class="oe_highlight"/>
                        or
                        <button string="Cancel" class="oe_link" special="cancel" />
                    </footer>
                </form>
            </field>
        </record>
        
        <record id="action_tr_partialinvoice" model="ir.actions.act_window">
            <field name="name">Create Invoice</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">tr.make.partial.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>
        
        
        
        <!--
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                Requesting for a particular lead
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^	-->
        <record id="tr_request_lead" model="ir.ui.view">
            <field name="name">tr_request_lead</field>
            <field name="model">tr.request.lead</field>
            <field name="arch" type="xml">
                <form string="Request" version="7.0">
                    
                    <group name="action" col="4" colspan="2">
                        <field name="desc" required="1" nolabel="1"/>
                    </group>
                     <footer>
                        <button name="get_lead_request"  string="Send" type="object"
                            class="oe_highlight"/> 
                            or 
                            <button string="Cancel" class="oe_link"
                                special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
        <record id="action_tr_request_lead" model="ir.actions.act_window">
            <field name="name">Request</field>
            <field name="type">ir.actions.act_window</field>
            <field name="context">{'request_action':'requested'}</field>
            <field name="res_model">tr.request.lead</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>
        <record id="action_tr_reject_lead" model="ir.actions.act_window">
            <field name="name">Reject</field>
            <field name="type">ir.actions.act_window</field>
            <field name="context">{'request_action':'rejected'}</field>
            <field name="res_model">tr.request.lead</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>
         <record id="action_tr_escalate_lead" model="ir.actions.act_window">
            <field name="name">Escalated</field>
            <field name="type">ir.actions.act_window</field>
            <field name="context">{'request_action':'escalated'}</field>
            <field name="res_model">tr.request.lead</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>
         <record id="action_tr_cancel_lead" model="ir.actions.act_window">
            <field name="name">Cancel</field>
            <field name="type">ir.actions.act_window</field>
            <field name="context">{'request_action':'cancelled'}</field>
            <field name="res_model">tr.request.lead</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>
        
        <!--
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                Assigning Leads to the consultant
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^	-->
        <record model="ir.ui.view" id="tr_assingn_leads_form">
            <field name="name">tr.assingn.leads.form</field>
            <field name="model">tr.assingn.leads</field>
            <field name="arch" type="xml">
                <form string="Assign Leads" version="7.0">
                    <group string="Assign Leads to">
                        <field name="consultant_id" class="oe_inline" />
                    </group>
                    
                    <footer>
                        <button name="action_assign" type="object" string="Assign" class="oe_highlight"/>
                        or
                        <button string="Cancel" class="oe_link" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
        
        <!--  Assign Leads To Consutant -->
        <record model="ir.actions.act_window" id="tr_assingn_leads_act">
            <field name="name">Assigning Leads</field>
            <field name="res_model">tr.assingn.leads</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="tr_assingn_leads_form"/>
            <field name="target">new</field>
        </record>
        
        <act_window id="action_tr_assingn_leadss"
            multi="True"
            key2="client_action_multi" name="Assigning Leads"
            res_model="tr.assingn.leads" src_model="crm.lead"
            view_mode="form" target="new" view_type="form"
        />
        
    </data>
</openerp>